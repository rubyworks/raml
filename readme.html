
<h1>Ruby Ambidextrous Meta-Language</h1>

<p><a href="http://rubyworks.github.com/raml">Homepage</a> | <a
href="http://github.com/rubyworks/raml">Source Code</a> | <a
href="http://googlegroups.com/group/rubyworks-mailinglist">Mailing List</a>
<a href="irc://chat.us.freenode.net/rubyworks">IRC</a></p>

<p><a href="http://travis-ci.org/rubyworks/raml"><img
src="http://travis-ci.org/rubyworks/raml.png" /></a></p>

<h2>DESCRIPTION</h2>

<p>RAML is a flexible data format suitable for a variety of uses, such as
configuration files.</p>

<p>Admittedly, “Ruby Ambidextrous Meta-Language” is a funny name. But
nonetheless fitting, because unlike YAML, RAML can handle a wider variety
of data format design needs, even limited markup formats. Unlike YAML, RAML
is not a serialization language.</p>

<h2>SYNOPSIS</h2>

<p>A RAML document is Ruby code operating under a set of open domain language
rules. An example RAML document looks like this:</p>

<pre>source &quot;http://rubygems.org&quot;
example &quot;this&quot;, 10, true
another do
  name &quot;Tonto&quot;
  age 42
  weight 229 
end</pre>

<p>Loading this document in via RAML would produce the following Hash:</p>

<pre>{:source=&gt;&quot;http://rubygems.org&quot;,
 :example=&gt;[&quot;this&quot;, 10, true],
 :another=&gt;{:name=&gt;&quot;Tonto&quot;, :age=&gt;42, :weight=&gt;229}}</pre>

<p>Loading is handled by the `RAML.load` method. The method can take a string,</p>

<pre>RAML.load(&quot;name 'Bob'&quot;)</pre>

<p>Or an IO object,</p>

<pre>RAML.load(File.new('foo.rml'))</pre>

<p>The method also takes a `:safe` option that is used to set the level of
evaluation Ruby is allowed.</p>

<pre>RAML.load(raml, :safe=&gt;true)</pre>

<p>If the option is `false`, which is the default, than evaluation is handled
with `$SAFE=0`. If `true` then $SAFE=4. Safe evaluation is useful when
loading untrusted data files. With `$SAFE=4` most (though not all) security
concerns are mitigated.</p>

<p>For a complete lock-down on evaluation, allowing only data settings and no
other forms of Ruby evaluation, `RAML.load` supports the `:eval` option. By
default it is set to `true`. By setting it to `false` (but not `nil`), all
code evaluation can be turned off.</p>

<pre>RAML.load(raml, :eval=&gt;false)</pre>

<p>Under the hood the current implementation  has two different parsers, a
Ripper based parser and a Kernel.eval based parser. By setting
`:eval=&gt;false` the Ripper parser is used rather than the regular eval
parser.</p>

<p>For additional examples and details on working with RAML files, see the QED
demonstrandum.</p>

<h2>IMPORTANT NOTE</h2>

<p>The Ripper based parser is not yet robust and is NOT RECOMMENDED FOR
PRODUCTION USE, as it will parse invalid RAML documents without complaint.
The eval parser on the other hand works well.</p>

<h2>SPECIAL THANKS</h2>

<p>Big props to <b>Robert Dober</b> for taking the time to help me improve the
code.</p>

<h2>COPYRIGHTS</h2>

<p>Copyright © 2010 Rubyworks</p>

<p>RAML is distributed under the terms of the <b>FreeBSD</b> License. See
COPYING.rdoc for details.</p>
